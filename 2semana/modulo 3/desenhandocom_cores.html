<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <canvas width="600" height="400"></canvas>
    <br>
    
     <h3>Escolha uma cor</h3> <input type="color">

    <script>
      // var paleta = document.querySelector('input[type=color]').value; >>>igual do exercício - deu erro!!
      var tela = document.querySelector('canvas');
      var pincel = tela.getContext('2d');
      pincel.fillStyle = 'lightgrey';
      pincel.fillRect(0, 0, 600, 400);
      var desenha = false;

      
    
      function desenhaCirculo(evento) {
        if (desenha) {
          var x = evento.pageX - tela.offsetLeft;
          var y = evento.pageY - tela.offsetTop;
          pincel.fillStyle = document.querySelector('input[type=color]').value;
          //pincel.fillRect = paleta.value; >>>igual do exercício - deu erro!!        
          pincel.beginPath();
          pincel.arc(x, y, 10, 0, 2 * 3.14);
          pincel.fill();
        }
        console.log(x + ',' + y);
      }
      tela.onmousemove = desenhaCirculo;
    
      function habilitaDesenhar() {
        desenha = true;
      }
    
      function desabilitaDesenhar() {
        desenha = false;
      }
      tela.onmousedown = habilitaDesenhar;
      tela.onmouseup = desabilitaDesenhar;

/*Assim como obtemos o canvas através de document.querySelector, também obtemos nosso input, 
que guardaremos na variável paleta. Lembre-se que paleta é o input lá do mundo HTML e para pegarmos
 o valor de um input precisamos fazer, no caso da nossa variável, paleta.value. 
 Toda vez que alguém alterar a cor lá no mundo HTML, paleta.value automaticamente terá o novo valor.
 Sendo assim, podemos passar para pincel.fillStyle o valor de paleta.value */
    </script>
    
</body>
</html>
